{% extends "base.html" %}

{% block base_content %}
<div class="container">
  <div class="content">
    <div class="page-header">
      <div class="pull-right">
        <a href="{{url_for('new_event')}}" class="btn">{{_('Add Event')}}</a>
        <a href="#" class="btn">{{_('Refresh')}}</a>
      </div>
      <h1>{{_('events')}}</h1>
    </div>
    <div class="row">
      <div class="span6">
        <p>Test area</p>
      </div>
      <div class="span10 pull-right">
        <div id="map_canvas" class="map" style="height: 400px;"></div>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript">
  function initialize() {
    var currentLat = 0;
    var currentLng = 0;
    var zoomLevel = 3;
    var myOptions = {
      center: new google.maps.LatLng(39.095963, -94.570312),
      zoom: zoomLevel,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    var map = new google.maps.Map(document.getElementById("map_canvas"),
        myOptions);
    // get current location
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function (position) {
        currentLat = position.coords.latitude;
        currentLng = position.coords.longitude;
        zoomLevel = 3;
        map.setCenter(new google.maps.LatLng(currentLat, currentLng));
        map.setZoom(11);
      });
    }

  }
  $(function(){
    $("li#events").addClass("active");
    initialize();
  });
</script>
{% endblock %}
